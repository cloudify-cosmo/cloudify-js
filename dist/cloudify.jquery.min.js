!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define([],d):"object"==typeof c?b.exports=d():a.returnExports=d()}(this,function(){function a(e,f){if("function"!=typeof f)throw new Error("Bad callback given: "+f);if(!e)throw new Error("No options given");var h=e.onResponse;if(e="string"==typeof e?{uri:e}:JSON.parse(JSON.stringify(e)),e.onResponse=h,e.verbose&&(a.log=d()),e.url&&(e.uri=e.url,delete e.url),!e.uri&&""!==e.uri)throw new Error("options.uri is a required argument");if("string"!=typeof e.uri)throw new Error("options.uri must be a string");for(var i=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],j=0;j<i.length;j++)if(e[i[j]])throw new Error("options."+i[j]+" is not supported");if(e.callback=f,e.method=e.method||"GET",e.headers=e.headers||{},e.body=e.body||null,e.timeout=e.timeout||a.DEFAULT_TIMEOUT,e.headers.host)throw new Error("Options.headers.host is not supported");e.json&&(e.headers.accept=e.headers.accept||"application/json","GET"!==e.method&&(e.headers["content-type"]="application/json"),"boolean"!=typeof e.json?e.body=JSON.stringify(e.json):"string"!=typeof e.body&&(e.body=JSON.stringify(e.body)));var k=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")};if(e.qs){var l="string"==typeof e.qs?e.qs:k(e.qs);-1!==e.uri.indexOf("?")?e.uri=e.uri+"&"+l:e.uri=e.uri+"?"+l}var m=function(a){var b={};b.boundry="-------------------------------"+Math.floor(1e9*Math.random());var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push("--"+b.boundry+'\nContent-Disposition: form-data; name="'+d+'"\n\n'+a[d]+"\n");return c.push("--"+b.boundry+"--"),b.body=c.join(""),b.length=b.body.length,b.type="multipart/form-data; boundary="+b.boundry,b};if(e.form){if("string"==typeof e.form)throw"form name unsupported";if("POST"===e.method){var n=(e.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(e.headers["content-type"]=n,n){case"application/x-www-form-urlencoded":e.body=k(e.form).replace(/%20/g,"+");break;case"multipart/form-data":var o=m(e.form);e.body=o.body,e.headers["content-type"]=o.type;break;default:throw new Error("unsupported encoding:"+n)}}}return e.onResponse=e.onResponse||c,e.onResponse===!0&&(e.onResponse=f,e.callback=c),!e.headers.authorization&&e.auth&&(e.headers.authorization="Basic "+g(e.auth.username+":"+e.auth.password)),b(e)}function b(b){function c(){l=!0;var c=new Error("ETIMEDOUT");return c.code="ETIMEDOUT",c.duration=b.timeout,a.log.error("Timeout",{id:k._id,milliseconds:b.timeout}),b.callback(c,k)}function d(c){if(l)return a.log.debug("Ignoring timed out state change",{state:k.readyState,id:k.id});if(a.log.debug("State change",{state:k.readyState,id:k.id,timed_out:l}),k.readyState===h.OPENED){a.log.debug("Request started",{id:k.id});for(var d in b.headers)k.setRequestHeader(d,b.headers[d])}else k.readyState===h.HEADERS_RECEIVED?e():k.readyState===h.LOADING?(e(),g()):k.readyState===h.DONE&&(e(),g(),i())}function e(){if(!p.response){if(p.response=!0,a.log.debug("Got response",{id:k.id,status:k.status}),clearTimeout(k.timeoutTimer),k.statusCode=k.status,m&&0==k.statusCode){var c=new Error("CORS request rejected: "+b.uri);return c.cors="rejected",p.loading=!0,p.end=!0,b.callback(c,k)}b.onResponse(null,k)}}function g(){p.loading||(p.loading=!0,a.log.debug("Response body loading",{id:k.id}))}function i(){if(!p.end){if(p.end=!0,a.log.debug("Request done",{id:k.id}),k.body=k.responseText,b.json)try{k.body=JSON.parse(k.responseText)}catch(c){return b.callback(c,k)}b.callback(null,k,k.body)}}var k=new h,l=!1,m=f(b.uri),n="withCredentials"in k;if(j+=1,k.seq_id=j,k.id=j+": "+b.method+" "+b.uri,k._id=k.id,m&&!n){var o=new Error("Browser does not support cross-origin request: "+b.uri);return o.cors="unsupported",b.callback(o,k)}k.timeoutTimer=setTimeout(c,b.timeout);var p={response:!1,loading:!1,end:!1};return k.onreadystatechange=d,k.open(b.method,b.uri,!0),m&&(k.withCredentials=!!b.withCredentials),k.send(b.body),k}function c(){}function d(){var a,b,d={},f=["trace","debug","info","warn","error"];for(b=0;b<f.length;b++)a=f[b],d[a]=c,"undefined"!=typeof console&&console&&console[a]&&(d[a]=e(console,a));return d}function e(a,b){function c(c,d){return"object"==typeof d&&(c+=" "+JSON.stringify(d)),a[b].call(a,c)}return c}function f(a){var b,c=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{b=location.href}catch(d){b=document.createElement("a"),b.href="",b=b.href}var e=c.exec(b.toLowerCase())||[],f=c.exec(a.toLowerCase()),g=!(!f||f[1]==e[1]&&f[2]==e[2]&&(f[3]||("http:"===f[1]?80:443))==(e[3]||("http:"===e[1]?80:443)));return g}function g(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;do b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,n[l++]=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h);while(k<a.length);switch(m=n.join(""),a.length%3){case 1:m=m.slice(0,-2)+"==";break;case 2:m=m.slice(0,-1)+"="}return m}var h=XMLHttpRequest;if(!h)throw new Error("missing XMLHttpRequest");a.log={trace:c,debug:c,info:c,warn:c,error:c};var i=18e4,j=0;a.withCredentials=!1,a.DEFAULT_TIMEOUT=i,a.defaults=function(b,c){var d=function(a){var c=function(c,d){c="string"==typeof c?{uri:c}:JSON.parse(JSON.stringify(c));for(var e in b)void 0===c[e]&&(c[e]=b[e]);return a(c,d)};return c},e=d(a);return e.get=d(a.get),e.post=d(a.post),e.put=d(a.put),e.head=d(a.head),e};var k=["get","put","post","head"];return k.forEach(function(b){var c=b.toUpperCase(),d=b.toLowerCase();a[d]=function(b){"string"==typeof b?b={method:c,uri:b}:(b=JSON.parse(JSON.stringify(b)),b.method=c);var d=[b].concat(Array.prototype.slice.apply(arguments,[1]));return a.apply(this,d)}}),a.couch=function(b,d){function e(a,b,c){if(a)return d(a,b,c);if((b.statusCode<200||b.statusCode>299)&&c.error){a=new Error("CouchDB error: "+(c.error.reason||c.error.error));for(var e in c)a[e]=c[e];return d(a,b,c)}return d(a,b,c)}"string"==typeof b&&(b={uri:b}),b.json=!0,b.body&&(b.json=b.body),delete b.body,d=d||c;var f=a(b,e);return f},a})},{}],2:[function(a,b,c){},{}],3:[function(a,b,c){arguments[4][2][0].apply(c,arguments)},{dup:2}],4:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],5:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],6:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:7}],7:[function(a,b,c){function d(){if(!h){h=!0;for(var a,b=g.length;b;){a=g,g=[];for(var c=-1;++c<b;)a[c]();b=g.length}h=!1}}function e(){}var f=b.exports={},g=[],h=!1;f.nextTick=function(a){g.push(a),h||setTimeout(d,0)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=e,f.addListener=e,f.once=e,f.off=e,f.removeListener=e,f.removeAllListeners=e,f.emit=e,f.binding=function(a){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(a){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],8:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],9:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":8,_process:7,inherits:5}],10:[function(a,b,c){"use strict";function d(a,b){return a=a||f.colouredLayout,function(c){g(a(c,b))}}function e(a){var b;return a.layout&&(b=f.layout(a.layout.type,a.layout)),d(b,a.timezoneOffset)}var f=a("../layouts"),g=console.log.bind(console);c.appender=d,c.configure=e},{"../layouts":13}],11:[function(a,b,c){"use strict";function d(a,b){b="object"==typeof b?b||{}:b?{format:b}:{};var c=a,d=h.toLevel(b.level,h.INFO),i=b.format||j,k=b.nolog?g(b.nolog):null;return function(a,g,j){if(a._logging)return j();if(k&&k.test(a.originalUrl))return j();if(c.isLevelEnabled(d)||"auto"===b.level){var l,m=new Date,n=g.writeHead;a.originalUrl;a._logging=!0,g.writeHead=function(a,c){g.writeHead=n,g.writeHead(a,c),g.__statusCode=l=a,g.__headers=c||{},"auto"===b.level?(d=h.INFO,a>=300&&(d=h.WARN),a>=400&&(d=h.ERROR)):d=h.toLevel(b.level,h.INFO)},g.on("finish",function(){if(g.responseTime=new Date-m,g.statusCode&&"auto"===b.level&&(d=h.INFO,g.statusCode>=300&&(d=h.WARN),g.statusCode>=400&&(d=h.ERROR)),c.isLevelEnabled(d)){var j=e(a,g,b.tokens||[]);if("function"==typeof i){var k=i(a,g,function(a){return f(a,j)});k&&c.log(d,k)}else c.log(d,f(i,j))}})}j()}}function e(a,b,c){var d=function(a){for(var b=a.concat(),c=0;c<b.length;++c)for(var d=c+1;d<b.length;++d)b[c].token==b[d].token&&b.splice(d--,1);return b},e=[];return e.push({token:":url",replacement:a.originalUrl}),e.push({token:":protocol",replacement:a.protocol}),e.push({token:":hostname",replacement:a.hostname}),e.push({token:":method",replacement:a.method}),e.push({token:":status",replacement:b.__statusCode||b.statusCode}),e.push({token:":response-time",replacement:b.responseTime}),e.push({token:":date",replacement:(new Date).toUTCString()}),e.push({token:":referrer",replacement:a.headers.referer||a.headers.referrer||""}),e.push({token:":http-version",replacement:a.httpVersionMajor+"."+a.httpVersionMinor}),e.push({token:":remote-addr",replacement:a.headers["x-forwarded-for"]||a.ip||a._remoteAddress||a.socket&&(a.socket.remoteAddress||a.socket.socket&&a.socket.socket.remoteAddress)}),e.push({token:":user-agent",replacement:a.headers["user-agent"]}),e.push({token:":content-length",replacement:b._headers&&b._headers["content-length"]||b.__headers&&b.__headers["Content-Length"]||"-"}),e.push({token:/:req\[([^\]]+)\]/g,replacement:function(b,c){return a.headers[c.toLowerCase()]}}),e.push({token:/:res\[([^\]]+)\]/g,replacement:function(a,c){return b._headers?b._headers[c.toLowerCase()]||b.__headers[c]:b.__headers&&b.__headers[c]}}),d(c.concat(e))}function f(a,b){return i.reduce(b,function(a,b){return a.replace(b.token,b.replacement)},a)}function g(a){var b=null;if(a&&(a instanceof RegExp&&(b=a),"string"==typeof a&&(b=new RegExp(a)),Array.isArray(a))){var c=a.map(function(a){return a.source?a.source:a});b=new RegExp(c.join("|"))}return b}var h=a("./levels"),i=a("underscore"),j=':remote-addr - - ":method :url HTTP/:http-version" :status :content-length ":referrer" ":user-agent"';c.connectLogger=d},{"./levels":14,underscore:18}],12:[function(a,b,c){"use strict";function d(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function e(a){return d(a,2)}function f(a){var b=Math.abs(a),c=String(Math.floor(b/60)),d=String(b%60);return 1==c.length&&(c="0"+c),1==d.length&&(d="0"+d),0>a?"+"+c+d:"-"+c+d}c.ISO8601_FORMAT="yyyy-MM-dd hh:mm:ss.SSS",c.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ssO",c.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS",c.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS",c.asString=function(a,b){var g=c.ISO8601_FORMAT;"string"==typeof a&&(g=arguments[0],a=arguments[1],b=arguments[2]),void 0===b&&(b=a.getTimezoneOffset()),a.setUTCMinutes(a.getUTCMinutes()-b);var h=e(a.getUTCDate()),i=e(a.getUTCMonth()+1),j=e(a.getUTCFullYear()),k=e(a.getUTCFullYear().toString().substring(2,4)),l=g.indexOf("yyyy")>-1?j:k,m=e(a.getUTCHours()),n=e(a.getUTCMinutes()),o=e(a.getUTCSeconds()),p=d(a.getUTCMilliseconds(),3),q=f(b);a.setUTCMinutes(a.getUTCMinutes()+b);var r=g.replace(/dd/g,h).replace(/MM/g,i).replace(/y{1,4}/g,l).replace(/hh/g,m).replace(/mm/g,n).replace(/ss/g,o).replace(/SSS/g,p).replace(/O/g,q);return r}},{}],13:[function(a,b,c){(function(c){"use strict";function d(a){return a.map(function(a){return a instanceof Error&&a.stack?{inspect:function(){return q.format(a)+"\n"+a.stack}}:a})}function e(a){var b=Array.isArray(a)?a:Array.prototype.slice.call(arguments);return q.format.apply(q,d(b))}function f(a){return a?"["+t[a][0]+"m":""}function g(a){return a?"["+t[a][1]+"m":""}function h(a,b){return f(b)+a+g(b)}function i(a,b,c){var d=h(e("[%s] [%s] %s - ",n.asString(a.startTime,c),a.level,a.categoryName),b);return d}function j(a,b){return i(a,void 0,b)+e(a.data)}function k(a,b){return i(a,s[a.level.toString()],b)+e(a.data)}function l(a){return e(a.data)}function m(a,b,d){function h(a,b){var c=a.categoryName;if(b){var d=parseInt(b,10),e=c.split(".");d<e.length&&(c=e.slice(e.length-d).join("."))}return c}function i(a,b){var c=n.ISO8601_FORMAT;return b&&(c=b,"ISO8601"==c?c=n.ISO8601_FORMAT:"ISO8601_WITH_TZ_OFFSET"==c?c=n.ISO8601_WITH_TZ_OFFSET_FORMAT:"ABSOLUTE"==c?c=n.ABSOLUTETIME_FORMAT:"DATE"==c&&(c=n.DATETIME_FORMAT)),n.asString(c,a.startTime,d)}function j(){return o.hostname().toString()}function k(a){return e(a.data)}function l(){return p}function m(a){return a.level.toString()}function q(a){return n.asString("hh:mm:ss",a.startTime,d)}function r(a){return f(s[a.level.toString()])}function t(a){return g(s[a.level.toString()])}function u(){return"%"}function v(a){return a&&a.pid?a.pid:c.pid}function w(a,b){return a.cluster&&b?b.replace("%m",a.cluster.master).replace("%w",a.cluster.worker).replace("%i",a.cluster.workerId):a.cluster?a.cluster.worker+"@"+a.cluster.master:v()}function x(a,c){return"undefined"!=typeof b[c]?"function"==typeof b[c]?b[c](a):b[c]:null}function y(a,b,c){return D[a](b,c)}function z(a,b){var c;return a?(c=parseInt(a.substr(1),10),b.substring(0,c)):b}function A(a,b){var c;if(a)if("-"==a.charAt(0))for(c=parseInt(a.substr(1),10);b.length<c;)b+=" ";else for(c=parseInt(a,10);b.length<c;)b=" "+b;return b}var B="%r %p %c - %m%n",C=/%(-?[0-9]+)?(\.?[0-9]+)?([\[\]cdhmnprzxy%])(\{([^\}]+)\})?|([^%]+)/;a=a||B;var D={c:h,d:i,h:j,m:k,n:l,p:m,r:q,"[":r,"]":t,y:w,z:v,"%":u,x:x};return function(b){for(var c,d="",e=a;c=C.exec(e);){var f=(c[0],c[1]),g=c[2],h=c[3],i=c[5],j=c[6];if(j)d+=""+j;else{var k=y(h,b,i);k=z(g,k),k=A(f,k),d+=k}e=e.substr(c.index+c[0].length)}return d}}var n=a("./date_format"),o=a("os"),p=o.EOL||"\n",q=a("util"),r={messagePassThrough:function(){return l},basic:function(){return j},colored:function(){return k},coloured:function(){return k},pattern:function(a){return m(a&&a.pattern,a&&a.tokens)}},s={ALL:"grey",TRACE:"blue",DEBUG:"cyan",INFO:"green",WARN:"yellow",ERROR:"red",FATAL:"magenta",OFF:"grey"},t={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};b.exports={basicLayout:j,messagePassThroughLayout:l,patternLayout:m,colouredLayout:k,coloredLayout:k,layout:function(a,b){return r[a]&&r[a](b)}}}).call(this,a("_process"))},{"./date_format":12,_process:7,os:3,util:9}],14:[function(a,b,c){"use strict";function d(a,b){this.level=a,this.levelStr=b}function e(a,c){if(!a)return c;if("string"==typeof a){var d=a.toUpperCase();return b.exports[d]?b.exports[d]:c}return e(a.toString())}d.prototype.toString=function(){return this.levelStr},d.prototype.isLessThanOrEqualTo=function(a){return"string"==typeof a&&(a=e(a)),this.level<=a.level},d.prototype.isGreaterThanOrEqualTo=function(a){return"string"==typeof a&&(a=e(a)),this.level>=a.level},d.prototype.isEqualTo=function(a){return"string"==typeof a&&(a=e(a)),this.level===a.level},b.exports={ALL:new d(Number.MIN_VALUE,"ALL"),TRACE:new d(5e3,"TRACE"),DEBUG:new d(1e4,"DEBUG"),INFO:new d(2e4,"INFO"),WARN:new d(3e4,"WARN"),ERROR:new d(4e4,"ERROR"),FATAL:new d(5e4,"FATAL"),MARK:new d(9007199254740992,"MARK"),OFF:new d(Number.MAX_VALUE,"OFF"),toLevel:e}},{}],15:[function(a,b,c){(function(c){"use strict";function d(a){return L.hasOwnProperty(a)}function e(a){var b=i(a),c={};return c.temp=[],c.target=b,c.flush=function(){for(var a=0;a<c.temp.length;a++){var b=c.temp[a];c.target[b.level](b.message),delete c.temp[a]}},c.trace=function(a){c.temp.push({level:"trace",message:a})},c.debug=function(a){c.temp.push({level:"debug",message:a})},c.info=function(a){c.temp.push({level:"info",message:a})},c.warn=function(a){c.temp.push({level:"warn",message:a})},c.error=function(a){c.temp.push({level:"error",message:a})},c.fatal=function(a){c.temp.push({level:"fatal",message:a})},c}function f(a){return a+"."}function g(a,b){var c=f(a),d=f(b);return d.substring(0,c.length)==c}function h(a,b){var c=f(a),d=f(b);return d.substring(0,c.length)==c}function i(a){if("string"!=typeof a&&(a=I.DEFAULT_CATEGORY),!d(a)){var b=void 0;if(G.config)for(var c=Object.keys(G.config).sort(),e=0;e<c.length;e++){var f=c[e];g(f,a)&&(b=G.config[f])}L[a]=new I(a,b);var i;for(var j in K)h(j,a)&&(i=K[j],i.forEach(function(b){L[a].addListener("log",b)}));K[J]&&(i=K[J],i.forEach(function(b){L[a].addListener("log",b)}))}return L[a]}function j(){var a=Array.prototype.slice.call(arguments),b=a.shift();(0===a.length||void 0===a[0])&&(a=[J]),Array.isArray(a[0])&&(a=a[0]),a.forEach(function(a){if(l(b,a),a===J)k(b);else for(var c in L)h(a,c)&&L[c].addListener("log",b)})}function k(a){for(var b in L)d(b)&&L[b].addListener("log",a)}function l(a,b){K[b]||(K[b]=[]),K[b].push(a)}function m(){K={};for(var a in L)d(a)&&L[a].removeAllListeners("log")}function n(a,b){m(),a&&a.forEach(function(a){A(a.type);var c;a.makers=M;try{c=M[a.type](a,b),j(c,a.category)}catch(d){throw new Error("log4js configuration problem for "+E.inspect(a),d)}})}function o(a){if(G.config=a,a){var b=Object.keys(G.config).sort();for(var c in b){var d=b[c];d===J&&p(a[d]);for(var e in L)g(d,e)&&L[e].setLevel(a[d])}}}function p(a){I.prototype.level=G.toLevel(a,G.TRACE)}function q(){return i(I.DEFAULT_CATEGORY)}function r(a){return a?JSON.parse(D.readFileSync(a,"utf8")):void 0}function s(a,b){if(a)try{o(a.levels),n(a.appenders,b),a.replaceConsole?x():y()}catch(c){throw new Error("Problem reading log4js config "+E.inspect(a)+'. Error was "'+c.message+'" ('+c.stack+")")}}function t(a){var b=u(P.filename);b&&(P.lastMTime&&b.getTime()>P.lastMTime.getTime()&&s(r(P.filename),a),P.lastMTime=b)}function u(a){var b;try{b=D.statSync(P.filename).mtime}catch(c){i("log4js").warn("Failed to load configuration file "+a)}return b}function v(a,b){P.timerId&&(clearInterval(P.timerId),delete P.timerId),P.filename=a,P.lastMTime=u(a),P.timerId=setInterval(t,1e3*b.reloadSecs,b)}function w(a,b){var d=a;d=d||c.env.LOG4JS_CONFIG,b=b||{},void 0===d||null===d||"string"==typeof d?(b.reloadSecs&&v(d,b),d=r(d)||O):b.reloadSecs&&i("log4js").warn('Ignoring configuration reload parameter for "object" configuration.'),s(d,b)}function x(a){function b(b){return function(){b.apply(a,arguments)}}a=a||i("console"),["log","debug","info","warn","error"].forEach(function(c){console[c]=b("log"===c?a.info:a[c])})}function y(){["log","debug","info","warn","error"].forEach(function(a){console[a]=Q[a]})}function z(b){var c;try{c=a("./appenders/"+b)}catch(d){c=a(b)}return c}function A(a,c){if(c=c||z(a),!c)throw new Error("Invalid log4js appender: "+E.inspect(a));b.exports.appenders[a]=c.appender.bind(c),c.shutdown&&(N[a]=c.shutdown.bind(c)),M[a]=c.configure.bind(c)}function B(a){H.disableAllLogWrites();var b=Object.keys(N).reduce(function(a,b){return a.concat(N[b])},[]);C.each(b,function(a,b){a(b)},a)}var C=(a("events"),a("async")),D=a("fs"),E=(a("path"),a("util")),F=a("./layouts"),G=a("./levels"),H=a("./logger"),I=(H.LoggingEvent,H.Logger),J="[all]",K={},L={},M={},N={},O={appenders:[{type:"console"}],replaceConsole:!1};a("./appenders/console");var P={},Q={log:console.log,debug:console.debug,info:console.info,warn:console.warn,error:console.error};b.exports={getBufferedLogger:e,getLogger:i,getDefaultLogger:q,hasLogger:d,addAppender:j,loadAppender:A,clearAppenders:m,configure:w,shutdown:B,replaceConsole:x,restoreConsole:y,levels:G,setGlobalLogLevel:p,layouts:F,appenders:{},appenderMakers:M,connectLogger:a("./connect-logger").connectLogger},w()}).call(this,a("_process"))},{"./appenders/console":10,"./connect-logger":11,"./layouts":13,"./levels":14,"./logger":16,_process:7,async:17,events:4,
fs:2,path:6,util:9}],16:[function(a,b,c){"use strict";function d(a,b,c,d){this.startTime=new Date,this.categoryName=a,this.data=c,this.level=b,this.logger=d}function e(a,b){this.category=a||k,b&&this.setLevel(b)}function f(){l=!1}function g(){l=!0}var h=a("./levels"),i=a("util"),j=a("events"),k="[default]",l=!0;i.inherits(e,j.EventEmitter),e.DEFAULT_CATEGORY=k,e.prototype.level=h.TRACE,e.prototype.setLevel=function(a){this.level=h.toLevel(a,this.level||h.TRACE)},e.prototype.removeLevel=function(){delete this.level},e.prototype.log=function(){var a,b=Array.prototype.slice.call(arguments),c=h.toLevel(b.shift(),h.INFO);this.isLevelEnabled(c)&&(a=new d(this.category,c,b,this),this.emit("log",a))},e.prototype.isLevelEnabled=function(a){return this.level.isLessThanOrEqualTo(a)},["Trace","Debug","Info","Warn","Error","Fatal","Mark"].forEach(function(a){var b=h.toLevel(a);e.prototype["is"+a+"Enabled"]=function(){return this.isLevelEnabled(b)},e.prototype[a.toLowerCase()]=function(){if(l&&this.isLevelEnabled(b)){var a=Array.prototype.slice.call(arguments);a.unshift(b),e.prototype.log.apply(this,a)}}}),c.LoggingEvent=d,c.Logger=e,c.disableAllLogWrites=f,c.enableAllLogWrites=g},{"./levels":14,events:4,util:9}],17:[function(a,b,c){(function(a){!function(){function c(a){var b=!1;return function(){if(b)throw new Error("Callback was already called.");b=!0,a.apply(d,arguments)}}var d,e,f={};d=this,null!=d&&(e=d.async),f.noConflict=function(){return d.async=e,f};var g=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},h=function(a,b){if(a.map)return a.map(b);var c=[];return g(a,function(a,d,e){c.push(b(a,d,e))}),c},i=function(a,b,c){return a.reduce?a.reduce(b,c):(g(a,function(a,d,e){c=b(c,a,d,e)}),c)},j=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"!=typeof a&&a.nextTick?(f.nextTick=a.nextTick,"undefined"!=typeof setImmediate?f.setImmediate=function(a){setImmediate(a)}:f.setImmediate=f.nextTick):"function"==typeof setImmediate?(f.nextTick=function(a){setImmediate(a)},f.setImmediate=f.nextTick):(f.nextTick=function(a){setTimeout(a,0)},f.setImmediate=f.nextTick),f.each=function(a,b,d){if(d=d||function(){},!a.length)return d();var e=0;g(a,function(f){b(f,c(function(b){b?(d(b),d=function(){}):(e+=1,e>=a.length&&d(null))}))})},f.forEach=f.each,f.eachSeries=function(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c(null):e())})};e()},f.forEachSeries=f.eachSeries,f.eachLimit=function(a,b,c,d){var e=k(b);e.apply(null,[a,c,d])},f.forEachLimit=f.eachLimit;var k=function(a){return function(b,c,d){if(d=d||function(){},!b.length||0>=a)return d();var e=0,f=0,g=0;!function h(){if(e>=b.length)return d();for(;a>g&&f<b.length;)f+=1,g+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,g-=1,e>=b.length?d():h())})}()}},l=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.each].concat(b))}},m=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[k(a)].concat(c))}},n=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.eachSeries].concat(b))}},o=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d,b(c)})},function(a){d(a,e)})};f.map=l(o),f.mapSeries=n(o),f.mapLimit=function(a,b,c,d){return p(b)(a,c,d)};var p=function(a){return m(a,o)};f.reduce=function(a,b,c,d){f.eachSeries(a,function(a,d){c(b,a,function(a,c){b=c,d(a)})},function(a){d(a,b)})},f.inject=f.reduce,f.foldl=f.reduce,f.reduceRight=function(a,b,c,d){var e=h(a,function(a){return a}).reverse();f.reduce(e,b,c,d)},f.foldr=f.reduceRight;var q=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c&&e.push(a),b()})},function(a){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.filter=l(q),f.filterSeries=n(q),f.select=f.filter,f.selectSeries=f.filterSeries;var r=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c||e.push(a),b()})},function(a){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.reject=l(r),f.rejectSeries=n(r);var s=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(a){d()})};f.detect=l(s),f.detectSeries=n(s),f.some=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){}),d()})},function(a){c(!1)})},f.any=f.some,f.every=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){}),d()})},function(a){c(!0)})},f.all=f.every,f.sortBy=function(a,b,c){f.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);var d=function(a,b){var c=a.criteria,d=b.criteria;return d>c?-1:c>d?1:0};c(null,h(b.sort(d),function(a){return a.value}))})},f.auto=function(a,b){b=b||function(){};var c=j(a);if(!c.length)return b(null);var d={},e=[],h=function(a){e.unshift(a)},k=function(a){for(var b=0;b<e.length;b+=1)if(e[b]===a)return void e.splice(b,1)},l=function(){g(e.slice(0),function(a){a()})};h(function(){j(d).length===c.length&&(b(null,d),b=function(){})}),g(c,function(c){var e=a[c]instanceof Function?[a[c]]:a[c],m=function(a){var e=Array.prototype.slice.call(arguments,1);if(e.length<=1&&(e=e[0]),a){var h={};g(j(d),function(a){h[a]=d[a]}),h[c]=e,b(a,h),b=function(){}}else d[c]=e,f.setImmediate(l)},n=e.slice(0,Math.abs(e.length-1))||[],o=function(){return i(n,function(a,b){return a&&d.hasOwnProperty(b)},!0)&&!d.hasOwnProperty(c)};if(o())e[e.length-1](m,d);else{var p=function(){o()&&(k(p),e[e.length-1](m,d))};h(p)}})},f.waterfall=function(a,b){if(b=b||function(){},a.constructor!==Array){var c=new Error("First argument to waterfall must be an array of functions");return b(c)}if(!a.length)return b();var d=function(a){return function(c){if(c)b.apply(null,arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),g=a.next();g?e.push(d(g)):e.push(b),f.setImmediate(function(){a.apply(null,e)})}}};d(f.iterator(a))()};var t=function(a,b,c){if(c=c||function(){},b.constructor===Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.each(j(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}};f.parallel=function(a,b){t({map:f.map,each:f.each},a,b)},f.parallelLimit=function(a,b,c){t({map:p(b),each:k(b)},a,c)},f.series=function(a,b){if(b=b||function(){},a.constructor===Array)f.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},b);else{var c={};f.eachSeries(j(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})}},f.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},f.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var u=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};f.concat=l(u),f.concatSeries=n(u),f.whilst=function(a,b,c){a()?b(function(d){return d?c(d):void f.whilst(a,b,c)}):c()},f.doWhilst=function(a,b,c){a(function(d){return d?c(d):void(b()?f.doWhilst(a,b,c):c())})},f.until=function(a,b,c){a()?c():b(function(d){return d?c(d):void f.until(a,b,c)})},f.doUntil=function(a,b,c){a(function(d){return d?c(d):void(b()?c():f.doUntil(a,b,c))})},f.queue=function(a,b){function d(a,c,d,e){c.constructor!==Array&&(c=[c]),g(c,function(c){var g={data:c,callback:"function"==typeof e?e:null};d?a.tasks.unshift(g):a.tasks.push(g),a.saturated&&a.tasks.length===b&&a.saturated(),f.setImmediate(a.process)})}void 0===b&&(b=1);var e=0,h={tasks:[],concurrency:b,saturated:null,empty:null,drain:null,push:function(a,b){d(h,a,!1,b)},unshift:function(a,b){d(h,a,!0,b)},process:function(){if(e<h.concurrency&&h.tasks.length){var b=h.tasks.shift();h.empty&&0===h.tasks.length&&h.empty(),e+=1;var d=function(){e-=1,b.callback&&b.callback.apply(b,arguments),h.drain&&h.tasks.length+e===0&&h.drain(),h.process()},f=c(d);a(b.data,f)}},length:function(){return h.tasks.length},running:function(){return e}};return h},f.cargo=function(a,b){var c=!1,d=[],e={tasks:d,payload:b,saturated:null,empty:null,drain:null,push:function(a,c){a.constructor!==Array&&(a=[a]),g(a,function(a){d.push({data:a,callback:"function"==typeof c?c:null}),e.saturated&&d.length===b&&e.saturated()}),f.setImmediate(e.process)},process:function i(){if(!c){if(0===d.length)return void(e.drain&&e.drain());var f="number"==typeof b?d.splice(0,b):d.splice(0),j=h(f,function(a){return a.data});e.empty&&e.empty(),c=!0,a(j,function(){c=!1;var a=arguments;g(f,function(b){b.callback&&b.callback.apply(null,a)}),i()})}},length:function(){return d.length},running:function(){return c}};return e};var v=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(b?console.error&&console.error(b):console[a]&&g(c,function(b){console[a](b)}))}]))}};f.log=v("log"),f.dir=v("dir"),f.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),g=b.apply(null,e);g in c?f.apply(null,c[g]):g in d?d[g].push(f):(d[g]=[f],a.apply(null,e.concat([function(){c[g]=arguments;var a=d[g];delete d[g];for(var b=0,e=a.length;e>b;b++)a[b].apply(null,arguments)}])))};return e.memo=c,e.unmemoized=a,e},f.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},f.times=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.map(d,b,c)},f.timesSeries=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.mapSeries(d,b,c)},f.compose=function(){var a=Array.prototype.reverse.call(arguments);return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();f.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}};var w=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};f.applyEach=l(w),f.applyEachSeries=n(w),f.forever=function(a,b){function c(d){if(d){if(b)return b(d);throw d}a(c)}c()},"undefined"!=typeof define&&define.amd?define([],function(){return f}):"undefined"!=typeof b&&b.exports?b.exports=f:d.async=f}()}).call(this,a("_process"))},{_process:7}],18:[function(a,b,c){(function(){function a(a){function b(b,c,d,e,f,g){for(;f>=0&&g>f;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=u(d,f,4);var g=!z(c)&&t.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function d(a){return function(b,c,d){c=v(c,d);for(var e=null!=b&&b.length,f=a>0?0:e-1;f>=0&&e>f;f+=a)if(c(b[f],f,b))return f;return-1}}function e(a,b){var c=E.length,d=a.constructor,e=t.isFunction(d)&&d.prototype||i,f="constructor";for(t.has(a,f)&&!t.contains(b,f)&&b.push(f);c--;)f=E[c],f in a&&a[f]!==e[f]&&!t.contains(b,f)&&b.push(f)}var f=this,g=f._,h=Array.prototype,i=Object.prototype,j=Function.prototype,k=h.push,l=h.slice,m=i.toString,n=i.hasOwnProperty,o=Array.isArray,p=Object.keys,q=j.bind,r=Object.create,s=function(){},t=function(a){return a instanceof t?a:this instanceof t?void(this._wrapped=a):new t(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=t),c._=t):f._=t,t.VERSION="1.8.2";var u=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},v=function(a,b,c){return null==a?t.identity:t.isFunction(a)?u(a,b,c):t.isObject(a)?t.matcher(a):t.property(a)};t.iteratee=function(a,b){return v(a,b,1/0)};var w=function(a,b){return function(c){var d=arguments.length;if(2>d||null==c)return c;for(var e=1;d>e;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;h>i;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},x=function(a){if(!t.isObject(a))return{};if(r)return r(a);s.prototype=a;var b=new s;return s.prototype=null,b},y=Math.pow(2,53)-1,z=function(a){var b=a&&a.length;return"number"==typeof b&&b>=0&&y>=b};t.each=t.forEach=function(a,b,c){b=u(b,c);var d,e;if(z(a))for(d=0,e=a.length;e>d;d++)b(a[d],d,a);else{var f=t.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},t.map=t.collect=function(a,b,c){b=v(b,c);for(var d=!z(a)&&t.keys(a),e=(d||a).length,f=Array(e),g=0;e>g;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},t.reduce=t.foldl=t.inject=a(1),t.reduceRight=t.foldr=a(-1),t.find=t.detect=function(a,b,c){var d;return d=z(a)?t.findIndex(a,b,c):t.findKey(a,b,c),void 0!==d&&-1!==d?a[d]:void 0},t.filter=t.select=function(a,b,c){var d=[];return b=v(b,c),t.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},t.reject=function(a,b,c){return t.filter(a,t.negate(v(b)),c)},t.every=t.all=function(a,b,c){b=v(b,c);for(var d=!z(a)&&t.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},t.some=t.any=function(a,b,c){b=v(b,c);for(var d=!z(a)&&t.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},t.contains=t.includes=t.include=function(a,b,c){return z(a)||(a=t.values(a)),t.indexOf(a,b,"number"==typeof c&&c)>=0},t.invoke=function(a,b){var c=l.call(arguments,2),d=t.isFunction(b);return t.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})},t.pluck=function(a,b){return t.map(a,t.property(b))},t.where=function(a,b){return t.filter(a,t.matcher(b))},t.findWhere=function(a,b){return t.find(a,t.matcher(b))},t.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=z(a)?a:t.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=v(b,c),t.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},t.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=z(a)?a:t.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=v(b,c),t.each(a,function(a,c,d){e=b(a,c,d),(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},t.shuffle=function(a){for(var b,c=z(a)?a:t.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=t.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},t.sample=function(a,b,c){return null==b||c?(z(a)||(a=t.values(a)),a[t.random(a.length-1)]):t.shuffle(a).slice(0,Math.max(0,b))},t.sortBy=function(a,b,c){return b=v(b,c),t.pluck(t.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var A=function(a){return function(b,c,d){var e={};return c=v(c,d),t.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};t.groupBy=A(function(a,b,c){t.has(a,c)?a[c].push(b):a[c]=[b]}),t.indexBy=A(function(a,b,c){a[c]=b}),t.countBy=A(function(a,b,c){t.has(a,c)?a[c]++:a[c]=1}),t.toArray=function(a){return a?t.isArray(a)?l.call(a):z(a)?t.map(a,t.identity):t.values(a):[]},t.size=function(a){return null==a?0:z(a)?a.length:t.keys(a).length},t.partition=function(a,b,c){b=v(b,c);var d=[],e=[];return t.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},t.first=t.head=t.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:t.initial(a,a.length-b)},t.initial=function(a,b,c){return l.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},t.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:t.rest(a,Math.max(0,a.length-b))},t.rest=t.tail=t.drop=function(a,b,c){return l.call(a,null==b||c?1:b)},t.compact=function(a){return t.filter(a,t.identity)};var B=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=a&&a.length;h>g;g++){var i=a[g];if(z(i)&&(t.isArray(i)||t.isArguments(i))){b||(i=B(i,b,c));var j=0,k=i.length;for(e.length+=k;k>j;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};t.flatten=function(a,b){return B(a,b,!1)},t.without=function(a){return t.difference(a,l.call(arguments,1))},t.uniq=t.unique=function(a,b,c,d){if(null==a)return[];t.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=v(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?t.contains(f,j)||(f.push(j),e.push(i)):t.contains(e,i)||e.push(i)}return e},t.union=function(){return t.uniq(B(arguments,!0,!0))},t.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!t.contains(b,f)){for(var g=1;c>g&&t.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},t.difference=function(a){var b=B(arguments,!0,!0,1);return t.filter(a,function(a){return!t.contains(b,a)})},t.zip=function(){return t.unzip(arguments)},t.unzip=function(a){for(var b=a&&t.max(a,"length").length||0,c=Array(b),d=0;b>d;d++)c[d]=t.pluck(a,d);return c},t.object=function(a,b){for(var c={},d=0,e=a&&a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},t.indexOf=function(a,b,c){var d=0,e=a&&a.length;if("number"==typeof c)d=0>c?Math.max(0,e+c):c;else if(c&&e)return d=t.sortedIndex(a,b),a[d]===b?d:-1;if(b!==b)return t.findIndex(l.call(a,d),t.isNaN);for(;e>d;d++)if(a[d]===b)return d;return-1},t.lastIndexOf=function(a,b,c){var d=a?a.length:0;if("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1)),b!==b)return t.findLastIndex(l.call(a,0,d),t.isNaN);for(;--d>=0;)if(a[d]===b)return d;return-1},t.findIndex=d(1),t.findLastIndex=d(-1),t.sortedIndex=function(a,b,c,d){c=v(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},t.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var C=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=x(a.prototype),g=a.apply(f,e);return t.isObject(g)?g:f};t.bind=function(a,b){if(q&&a.bind===q)return q.apply(a,l.call(arguments,1));if(!t.isFunction(a))throw new TypeError("Bind must be called on a function");var c=l.call(arguments,2),d=function(){return C(a,d,b,this,c.concat(l.call(arguments)))};return d},t.partial=function(a){var b=l.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;e>g;g++)f[g]=b[g]===t?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return C(a,c,this,this,f)};return c},t.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=t.bind(a[c],a);return a},t.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return t.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},t.delay=function(a,b){var c=l.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},t.defer=t.partial(t.delay,t,1),t.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:t.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=t.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},t.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=t.now()-g;b>j&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=t.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},t.wrap=function(a,b){return t.partial(b,a)},t.negate=function(a){return function(){return!a.apply(this,arguments)}},t.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},t.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},t.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},t.once=t.partial(t.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];t.keys=function(a){if(!t.isObject(a))return[];if(p)return p(a);var b=[];for(var c in a)t.has(a,c)&&b.push(c);return D&&e(a,b),b},t.allKeys=function(a){if(!t.isObject(a))return[];var b=[];for(var c in a)b.push(c);return D&&e(a,b),b},t.values=function(a){for(var b=t.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},t.mapObject=function(a,b,c){b=v(b,c);for(var d,e=t.keys(a),f=e.length,g={},h=0;f>h;h++)d=e[h],g[d]=b(a[d],d,a);return g},t.pairs=function(a){for(var b=t.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},t.invert=function(a){for(var b={},c=t.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},t.functions=t.methods=function(a){var b=[];for(var c in a)t.isFunction(a[c])&&b.push(c);return b.sort()},t.extend=w(t.allKeys),t.extendOwn=t.assign=w(t.keys),t.findKey=function(a,b,c){b=v(b,c);for(var d,e=t.keys(a),f=0,g=e.length;g>f;f++)if(d=e[f],b(a[d],d,a))return d},t.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;t.isFunction(b)?(e=t.allKeys(g),d=u(b,c)):(e=B(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;i>h;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},t.omit=function(a,b,c){if(t.isFunction(b))b=t.negate(b);else{var d=t.map(B(arguments,!1,!1,1),String);b=function(a,b){return!t.contains(d,b)}}return t.pick(a,b,c)},t.defaults=w(t.allKeys,!0),t.clone=function(a){return t.isObject(a)?t.isArray(a)?a.slice():t.extend({},a):a},t.tap=function(a,b){return b(a),a},t.isMatch=function(a,b){var c=t.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;d>f;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof t&&(a=a._wrapped),b instanceof t&&(b=b._wrapped);var e=m.call(a);if(e!==m.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(t.isFunction(g)&&g instanceof g&&t.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!F(a[i],b[i],c,d))return!1}else{var j,k=t.keys(a);if(i=k.length,t.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!t.has(b,j)||!F(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};t.isEqual=function(a,b){return F(a,b)},t.isEmpty=function(a){return null==a?!0:z(a)&&(t.isArray(a)||t.isString(a)||t.isArguments(a))?0===a.length:0===t.keys(a).length},t.isElement=function(a){return!(!a||1!==a.nodeType)},t.isArray=o||function(a){return"[object Array]"===m.call(a)},t.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},t.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){t["is"+a]=function(b){return m.call(b)==="[object "+a+"]"}}),t.isArguments(arguments)||(t.isArguments=function(a){return t.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(t.isFunction=function(a){return"function"==typeof a||!1}),t.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},t.isNaN=function(a){return t.isNumber(a)&&a!==+a},t.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===m.call(a)},t.isNull=function(a){return null===a},t.isUndefined=function(a){return void 0===a},t.has=function(a,b){return null!=a&&n.call(a,b)},t.noConflict=function(){return f._=g,this},t.identity=function(a){return a},t.constant=function(a){return function(){return a}},t.noop=function(){},t.property=function(a){return function(b){return null==b?void 0:b[a]}},t.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},t.matcher=t.matches=function(a){return a=t.extendOwn({},a),function(b){return t.isMatch(b,a)}},t.times=function(a,b,c){var d=Array(Math.max(0,a));b=u(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},t.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},t.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=t.invert(G),I=function(a){var b=function(b){return a[b]},c="(?:"+t.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};t.escape=I(G),t.unescape=I(H),t.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),t.isFunction(d)?d.call(a):d};var J=0;t.uniqueId=function(a){var b=++J+"";return a?a+b:b},t.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\u2028|\u2029/g,N=function(a){return"\\"+L[a]};t.template=function(a,b,c){!b&&c&&(b=c),b=t.defaults({},b,t.templateSettings);var d=RegExp([(b.escape||K).source,(b.interpolate||K).source,(b.evaluate||K).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(M,N),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,t)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},t.chain=function(a){var b=t(a);return b._chain=!0,b};var O=function(a,b){return a._chain?t(b).chain():b};t.mixin=function(a){t.each(t.functions(a),function(b){var c=t[b]=a[b];t.prototype[b]=function(){var a=[this._wrapped];return k.apply(a,arguments),O(this,c.apply(t,a))}})},t.mixin(t),t.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=h[a];t.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],O(this,c)}}),t.each(["concat","join","slice"],function(a){var b=h[a];t.prototype[a]=function(){return O(this,b.apply(this._wrapped,arguments))}}),t.prototype.value=function(){return this._wrapped},t.prototype.valueOf=t.prototype.toJSON=t.prototype.value,t.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return t})}).call(this)},{}],19:[function(a,b,c){"use strict";var d=a("./lib/client"),e=a("browser-request"),f=a("log4js");f.configure({appenders:[{type:"console",layout:{type:"pattern",pattern:"[ %d ] [ %c ] :: %m"}}]});var g=f.getLogger("cloudify.angular");$.CloudifyClient=function(a){return a.request||(a.request=e),new d(a)},g.trace("cloudifyjs is ready for use")},{"./lib/client":21,"browser-request":1,log4js:15}],20:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.blueprints");d.prototype.list=function(a,b){e.trace("listing blueprints");var c={};return a&&(c._include=a),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/blueprints",qs:c},b)},d.prototype.get=function(a,b,c){e.trace("getting blueprint by id");var d={};return b&&(d._include=b),this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/blueprints/{0}",a),qs:d},c)},d.prototype["delete"]=function(a,b){return e.trace("deleting blueprint"),this.config.request({method:"DELETE",json:!0,url:String.format(this.config.endpoint+"/blueprints/{0}",a)},b)},d.prototype.publish_archive=function(a,b,c,d){e.trace("getting blueprint by id");var f={blueprint_archive_url:a,application_file_name:c};return this.config.request({method:"PUT",url:String.format(this.config.endpoint+"/blueprints/{0}",b),qs:f},function(a,b,c){if("string"==typeof c){try{c=JSON.parse(c)}catch(e){}d(a,b,c)}})},d.prototype.download=function(a,b,c){throw e.trace("downloading blueprint"),new Error("this function is not implemented")},d.prototype.browse=function(a,b,c,d){throw e.trace("browse blueprint"),new Error("this function is not implemented")},d.prototype.browseFile=function(a,b,c,d){throw e.trace("browse blueprint"),new Error("this function is not implemented")},b.exports=d},{log4js:15}],21:[function(a,b,c){"use strict";function d(a){var b=a.request;a.request=function(c,d){return c.auth=a.cloudifyAuth,b(c,d)},this.config=a,this.blueprints=new e(a),this.events=new f(a),this.deployments=new g(a),this.executions=new h(a),this.manager=new i(a),this.nodeInstances=new j(a),this.nodes=new k(a),this.search=new l(a),this.evaluate=new m(a),this.maintenance=new n(a)}var e=a("./blueprints"),f=a("./events"),g=a("./deployments"),h=a("./executions"),i=a("./manager"),j=a("./nodeInstances"),k=a("./nodes"),l=a("./search"),m=a("./evaluate"),n=a("./maintenance");b.exports=d,String.format=function(){for(var a=arguments[0],b=1;b<arguments.length;b++){var c=new RegExp("\\{"+(b-1)+"\\}","gm");a=a.replace(c,arguments[b])}return a}},{"./blueprints":20,"./deployments":22,"./evaluate":23,"./events":24,"./executions":25,"./maintenance":26,"./manager":27,"./nodeInstances":28,"./nodes":29,"./search":30}],22:[function(a,b,c){"use strict";function d(a){this.config=a}function e(a){this.config=a}function f(a){this.config=a,this.outputs=new d(a)}var g=a("log4js").getLogger("cloudify.deployments");d.prototype.get=function(a,b){return g.trace("getting deployment outputs"),a?this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}/outputs",a)},b):void b(new Error("deployment_id is missing"))},e.prototype.start=function(a,b,c){return g.trace("starting deployment modification"),a?this.config.request({method:"PATCH",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}/modify",a),body:{stage:"start",nodes:b}},c):void c(new Error("deployment_id is missing"))},e.prototype.finish=function(a,b,c){return g.trace("finishing deployment modification"),a?this.config.request({method:"PATCH",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}/modify",a),body:{stage:"finish",modification:b}},c):void c(new Error("deployment_id is missing"))},f.prototype.list=function(a,b){g.trace("listing deployments");var c={};return a&&(c._include=a),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/deployments",qs:c},b)},f.prototype.get=function(a,b,c){return g.trace("getting deployment"),a?this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}",a)},c):void c(new Error("blueprint_id is missing"))},f.prototype.create=function(a,b,c,d){if(g.trace("creating deployment"),!a)return void d(new Error("blueprint_id is missing"));if(!b)return void d(new Error("deployment_id is missing"));var e={blueprint_id:a};return c&&(e.inputs=c),this.config.request({method:"PUT",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}",b),body:e},d)},f.prototype["delete"]=function(a,b,c){if(g.trace("deleting deployment"),!a)return void c(new Error("deployment_id is missing"));
var d={};return b===!0&&(d.ignore_live_nodes="true"),this.config.request({method:"DELETE",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}",a),qs:d},c)},f.prototype.get_workflows=function(a,b,c){return g.trace("getting workflows"),a?this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}/workflows",a)},c):void c(new Error("blueprint_id is missing"))},b.exports=f},{log4js:15}],23:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.nodeInstances");d.prototype.functions=function(a,b,c,d){e.trace("evaluating"),this.config.request({method:"POST",url:this.config.endpoint+"/evaluate/functions",json:!0,body:{deployment_id:a,context:b,payload:c}},d)},b.exports=d},{log4js:15}],24:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.events");d.prototype.get=function(a,b){return e.trace("getting logs and events"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/events",qs:a},b)},b.exports=d},{log4js:15}],25:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.executions");d.prototype.list=function(a,b){return e.trace("listing executions"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/executions",qs:a},b)},d.prototype.get=function(a,b,c){if(e.trace("getting execution"),!a)return void c(new Error("execution_id is missing"));var d={};return b&&(d._include=b),this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/executions/{0}",a),qs:d},c)},d.prototype.update=function(a,b,c,d){if(e.trace("updating execution"),!a)return void d(new Error("execution_id is missing"));var f={status:b};return c||(f.error=c),this.config.request({method:"PATCH",url:String.format(this.config.endpoint+"/executions/{0}",a),json:!0,body:f},d)},d.prototype.start=function(a,b,c,d,f,g){if(e.trace("starting execution"),!a)return void g(new Error("deployment_id is missing"));if(!b)return void g(new Error("workflow_id is missing"));var h={deployment_id:a,workflow_id:b};return c&&(h.parameters=c),d===!0?h.allow_custom_parameters="true":h.allow_custom_parameters="false",f===!0?h.force="true":h.force="false",this.config.request({method:"POST",url:this.config.endpoint+"/executions",body:h,json:!0},g)},d.prototype.cancel=function(a,b,c){if(e.trace("cancelling execution"),!a)return void c(new Error("execution_id is missing"));var d={};return b===!0?d.action="force-cancel":d.action="cancel",this.config.request({method:"POST",url:String.format(this.config.endpoint+"/executions/{0}",a),json:!0,body:d},c)},b.exports=d},{log4js:15}],26:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.maintenance");d.prototype.get=function(a){return e.trace("getting maintenance details"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/maintenance"},a)},d.prototype.activate=function(a){return e.trace("activating maintenance mode"),this.config.request({method:"POST",json:!0,url:this.config.endpoint+"/maintenance/activate"},a)},d.prototype.deactivate=function(a){return e.trace("deactivating maintenance mode"),this.config.request({method:"POST",json:!0,url:this.config.endpoint+"/maintenance/deactivate"},a)},b.exports=d},{log4js:15}],27:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.manager");d.prototype.get_status=function(a){return e.trace("getting status"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/status"},a)},d.prototype.get_version=function(a){return e.trace("getting version"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/version"},a)},d.prototype.get_context=function(a,b){e.trace("getting context");var c={};return a&&(c._include=a),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/provider/context",qs:c},b)},d.prototype.create_context=function(a,b,c){if(e.trace("creating context"),!a)return void c(new Error("name is missing"));if(!b)return void c(new Error("context is missing"));var d={name:a,context:b};return this.config.request({method:"POST",json:!0,url:this.config.endpoint+"/provider/context",body:d},c)},b.exports=d},{log4js:15}],28:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.nodeInstances");d.prototype.get=function(a,b,c){if(e.trace("getting node instances"),!a)return void c(new Error("node_instance_id is missing"));var d={};return b&&(d._include=b),this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/node-instances/{0}",a),qs:d},c)},d.prototype.update=function(a,b,c,d,f){e.trace("updating node instance"),a||f(new Error("node_instance_id is missing")),isNaN(parseInt(d))&&(d=0);var g={version:d};return c&&(g.runtime_properties=c),b&&(g.state=b),this.config.request({method:"PATCH",url:String.format(this.config.endpoint+"/node-instances/{0}",a),json:!0,body:g},f)},d.prototype.list=function(a,b,c){e.trace("listing node instances");var d={};return a&&(d.deployment_id=a),b&&(d._include=b),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/node-instances",qs:d},c)},b.exports=d},{log4js:15}],29:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.nodeInstances");d.prototype.list=function(a,b,c,d){e.trace("listing nodes");var f={};return a&&(f.deployment_id=a),b&&(f.id=b),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/nodes",qs:f},d)},d.prototype.get=function(a,b,c,d){return e.trace("getting nodes"),a?b?void this.list(a,b,c,function(a,b,c){c&&c.length>0&&(c=c[0]),d(a,b,c)}):void d(new Error("node_id is missing")):void d(new Error("deployment_id is missing"))},b.exports=d},{log4js:15}],30:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.nodeInstances");d.prototype.run_query=function(a,b){return e.trace("running query"),this.config.request({method:"POST",json:!0,url:this.config.endpoint+"/search",body:a},b)},b.exports=d},{log4js:15}]},{},[19]);