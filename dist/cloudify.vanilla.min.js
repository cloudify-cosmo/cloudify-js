!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define([],d):"object"==typeof c?b.exports=d():a.returnExports=d()}(this,function(){function a(e,f){if("function"!=typeof f)throw new Error("Bad callback given: "+f);if(!e)throw new Error("No options given");var h=e.onResponse;if(e="string"==typeof e?{uri:e}:JSON.parse(JSON.stringify(e)),e.onResponse=h,e.verbose&&(a.log=d()),e.url&&(e.uri=e.url,delete e.url),!e.uri&&""!==e.uri)throw new Error("options.uri is a required argument");if("string"!=typeof e.uri)throw new Error("options.uri must be a string");for(var i=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],j=0;j<i.length;j++)if(e[i[j]])throw new Error("options."+i[j]+" is not supported");if(e.callback=f,e.method=e.method||"GET",e.headers=e.headers||{},e.body=e.body||null,e.timeout=e.timeout||a.DEFAULT_TIMEOUT,e.headers.host)throw new Error("Options.headers.host is not supported");e.json&&(e.headers.accept=e.headers.accept||"application/json","GET"!==e.method&&(e.headers["content-type"]="application/json"),"boolean"!=typeof e.json?e.body=JSON.stringify(e.json):"string"!=typeof e.body&&(e.body=JSON.stringify(e.body)));var k=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")};if(e.qs){var l="string"==typeof e.qs?e.qs:k(e.qs);-1!==e.uri.indexOf("?")?e.uri=e.uri+"&"+l:e.uri=e.uri+"?"+l}var m=function(a){var b={};b.boundry="-------------------------------"+Math.floor(1e9*Math.random());var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push("--"+b.boundry+'\nContent-Disposition: form-data; name="'+d+'"\n\n'+a[d]+"\n");return c.push("--"+b.boundry+"--"),b.body=c.join(""),b.length=b.body.length,b.type="multipart/form-data; boundary="+b.boundry,b};if(e.form){if("string"==typeof e.form)throw"form name unsupported";if("POST"===e.method){var n=(e.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(e.headers["content-type"]=n,n){case"application/x-www-form-urlencoded":e.body=k(e.form).replace(/%20/g,"+");break;case"multipart/form-data":var o=m(e.form);e.body=o.body,e.headers["content-type"]=o.type;break;default:throw new Error("unsupported encoding:"+n)}}}return e.onResponse=e.onResponse||c,e.onResponse===!0&&(e.onResponse=f,e.callback=c),!e.headers.authorization&&e.auth&&(e.headers.authorization="Basic "+g(e.auth.username+":"+e.auth.password)),b(e)}function b(b){function c(){l=!0;var c=new Error("ETIMEDOUT");return c.code="ETIMEDOUT",c.duration=b.timeout,a.log.error("Timeout",{id:k._id,milliseconds:b.timeout}),b.callback(c,k)}function d(c){if(l)return a.log.debug("Ignoring timed out state change",{state:k.readyState,id:k.id});if(a.log.debug("State change",{state:k.readyState,id:k.id,timed_out:l}),k.readyState===h.OPENED){a.log.debug("Request started",{id:k.id});for(var d in b.headers)k.setRequestHeader(d,b.headers[d])}else k.readyState===h.HEADERS_RECEIVED?e():k.readyState===h.LOADING?(e(),g()):k.readyState===h.DONE&&(e(),g(),i())}function e(){if(!p.response){if(p.response=!0,a.log.debug("Got response",{id:k.id,status:k.status}),clearTimeout(k.timeoutTimer),k.statusCode=k.status,m&&0==k.statusCode){var c=new Error("CORS request rejected: "+b.uri);return c.cors="rejected",p.loading=!0,p.end=!0,b.callback(c,k)}b.onResponse(null,k)}}function g(){p.loading||(p.loading=!0,a.log.debug("Response body loading",{id:k.id}))}function i(){if(!p.end){if(p.end=!0,a.log.debug("Request done",{id:k.id}),k.body=k.responseText,b.json)try{k.body=JSON.parse(k.responseText)}catch(c){return b.callback(c,k)}b.callback(null,k,k.body)}}var k=new h,l=!1,m=f(b.uri),n="withCredentials"in k;if(j+=1,k.seq_id=j,k.id=j+": "+b.method+" "+b.uri,k._id=k.id,m&&!n){var o=new Error("Browser does not support cross-origin request: "+b.uri);return o.cors="unsupported",b.callback(o,k)}k.timeoutTimer=setTimeout(c,b.timeout);var p={response:!1,loading:!1,end:!1};return k.onreadystatechange=d,k.open(b.method,b.uri,!0),m&&(k.withCredentials=!!b.withCredentials),k.send(b.body),k}function c(){}function d(){var a,b,d={},f=["trace","debug","info","warn","error"];for(b=0;b<f.length;b++)a=f[b],d[a]=c,"undefined"!=typeof console&&console&&console[a]&&(d[a]=e(console,a));return d}function e(a,b){function c(c,d){return"object"==typeof d&&(c+=" "+JSON.stringify(d)),a[b].call(a,c)}return c}function f(a){var b,c=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{b=location.href}catch(d){b=document.createElement("a"),b.href="",b=b.href}var e=c.exec(b.toLowerCase())||[],f=c.exec(a.toLowerCase()),g=!(!f||f[1]==e[1]&&f[2]==e[2]&&(f[3]||("http:"===f[1]?80:443))==(e[3]||("http:"===e[1]?80:443)));return g}function g(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;do b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,n[l++]=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h);while(k<a.length);switch(m=n.join(""),a.length%3){case 1:m=m.slice(0,-2)+"==";break;case 2:m=m.slice(0,-1)+"="}return m}var h=XMLHttpRequest;if(!h)throw new Error("missing XMLHttpRequest");a.log={trace:c,debug:c,info:c,warn:c,error:c};var i=18e4,j=0;a.withCredentials=!1,a.DEFAULT_TIMEOUT=i,a.defaults=function(b,c){var d=function(a){var c=function(c,d){c="string"==typeof c?{uri:c}:JSON.parse(JSON.stringify(c));for(var e in b)void 0===c[e]&&(c[e]=b[e]);return a(c,d)};return c},e=d(a);return e.get=d(a.get),e.post=d(a.post),e.put=d(a.put),e.head=d(a.head),e};var k=["get","put","post","head"];return k.forEach(function(b){var c=b.toUpperCase(),d=b.toLowerCase();a[d]=function(b){"string"==typeof b?b={method:c,uri:b}:(b=JSON.parse(JSON.stringify(b)),b.method=c);var d=[b].concat(Array.prototype.slice.apply(arguments,[1]));return a.apply(this,d)}}),a.couch=function(b,d){function e(a,b,c){if(a)return d(a,b,c);if((b.statusCode<200||b.statusCode>299)&&c.error){a=new Error("CouchDB error: "+(c.error.reason||c.error.error));for(var e in c)a[e]=c[e];return d(a,b,c)}return d(a,b,c)}"string"==typeof b&&(b={uri:b}),b.json=!0,b.body&&(b.json=b.body),delete b.body,d=d||c;var f=a(b,e);return f},a})},{}],2:[function(a,b,c){},{}],3:[function(a,b,c){arguments[4][2][0].apply(c,arguments)},{dup:2}],4:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],5:[function(a,b,c){b.exports=FormData},{}],6:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],7:[function(a,b,c){"use strict";function d(a,b){return a=a||f.colouredLayout,function(c){g(a(c,b))}}function e(a){var b;return a.layout&&(b=f.layout(a.layout.type,a.layout)),d(b,a.timezoneOffset)}var f=a("../layouts"),g=console.log.bind(console);c.appender=d,c.configure=e},{"../layouts":10}],8:[function(a,b,c){"use strict";function d(a,b){b="object"==typeof b?b||{}:b?{format:b}:{};var c=a,d=h.toLevel(b.level,h.INFO),j=b.format||i,k=b.nolog?g(b.nolog):null;return function(a,g,i){if(a._logging)return i();if(k&&k.test(a.originalUrl))return i();if(c.isLevelEnabled(d)||"auto"===b.level){var l,m=new Date,n=g.writeHead;a.originalUrl;a._logging=!0,g.writeHead=function(a,c){g.writeHead=n,g.writeHead(a,c),g.__statusCode=l=a,g.__headers=c||{},"auto"===b.level?(d=h.INFO,a>=300&&(d=h.WARN),a>=400&&(d=h.ERROR)):d=h.toLevel(b.level,h.INFO)},g.on("finish",function(){if(g.responseTime=new Date-m,g.statusCode&&"auto"===b.level&&(d=h.INFO,g.statusCode>=300&&(d=h.WARN),g.statusCode>=400&&(d=h.ERROR)),c.isLevelEnabled(d)){var i=e(a,g,b.tokens||[]);if("function"==typeof j){var k=j(a,g,function(a){return f(a,i)});k&&c.log(d,k)}else c.log(d,f(j,i))}})}i()}}function e(a,b,c){var d=function(a){for(var b=a.concat(),c=0;c<b.length;++c)for(var d=c+1;d<b.length;++d)b[c].token==b[d].token&&b.splice(d--,1);return b},e=[];return e.push({token:":url",replacement:a.originalUrl}),e.push({token:":protocol",replacement:a.protocol}),e.push({token:":hostname",replacement:a.hostname}),e.push({token:":method",replacement:a.method}),e.push({token:":status",replacement:b.__statusCode||b.statusCode}),e.push({token:":response-time",replacement:b.responseTime}),e.push({token:":date",replacement:(new Date).toUTCString()}),e.push({token:":referrer",replacement:a.headers.referer||a.headers.referrer||""}),e.push({token:":http-version",replacement:a.httpVersionMajor+"."+a.httpVersionMinor}),e.push({token:":remote-addr",replacement:a.headers["x-forwarded-for"]||a.ip||a._remoteAddress||a.socket&&(a.socket.remoteAddress||a.socket.socket&&a.socket.socket.remoteAddress)}),e.push({token:":user-agent",replacement:a.headers["user-agent"]}),e.push({token:":content-length",replacement:b._headers&&b._headers["content-length"]||b.__headers&&b.__headers["Content-Length"]||"-"}),e.push({token:/:req\[([^\]]+)\]/g,replacement:function(b,c){return a.headers[c.toLowerCase()]}}),e.push({token:/:res\[([^\]]+)\]/g,replacement:function(a,c){return b._headers?b._headers[c.toLowerCase()]||b.__headers[c]:b.__headers&&b.__headers[c]}}),d(c.concat(e))}function f(a,b){for(var c=0;c<b.length;c++)a=a.replace(b[c].token,b[c].replacement);return a}function g(a){var b=null;if(a&&(a instanceof RegExp&&(b=a),"string"==typeof a&&(b=new RegExp(a)),Array.isArray(a))){var c=a.map(function(a){return a.source?a.source:a});b=new RegExp(c.join("|"))}return b}var h=a("./levels"),i=':remote-addr - - ":method :url HTTP/:http-version" :status :content-length ":referrer" ":user-agent"';c.connectLogger=d},{"./levels":11}],9:[function(a,b,c){"use strict";function d(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function e(a){return d(a,2)}function f(a){var b=Math.abs(a),c=String(Math.floor(b/60)),d=String(b%60);return 1==c.length&&(c="0"+c),1==d.length&&(d="0"+d),0>a?"+"+c+d:"-"+c+d}c.ISO8601_FORMAT="yyyy-MM-dd hh:mm:ss.SSS",c.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ssO",c.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS",c.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS",c.asString=function(a,b){var g=c.ISO8601_FORMAT;"string"==typeof a&&(g=arguments[0],a=arguments[1],b=arguments[2]),void 0===b&&(b=a.getTimezoneOffset()),a.setUTCMinutes(a.getUTCMinutes()-b);var h=e(a.getUTCDate()),i=e(a.getUTCMonth()+1),j=e(a.getUTCFullYear()),k=e(a.getUTCFullYear().toString().substring(2,4)),l=g.indexOf("yyyy")>-1?j:k,m=e(a.getUTCHours()),n=e(a.getUTCMinutes()),o=e(a.getUTCSeconds()),p=d(a.getUTCMilliseconds(),3),q=f(b);a.setUTCMinutes(a.getUTCMinutes()+b);var r=g.replace(/dd/g,h).replace(/MM/g,i).replace(/y{1,4}/g,l).replace(/hh/g,m).replace(/mm/g,n).replace(/ss/g,o).replace(/SSS/g,p).replace(/O/g,q);return r}},{}],10:[function(a,b,c){(function(c){"use strict";function d(a){return a.map(function(a){return a instanceof Error&&a.stack?{inspect:function(){return r.format(a)+"\n"+a.stack}}:a})}function e(a){var b=Array.isArray(a)?a:Array.prototype.slice.call(arguments);return r.format.apply(r,d(b))}function f(a){return a?"["+u[a][0]+"m":""}function g(a){return a?"["+u[a][1]+"m":""}function h(a,b){return f(b)+a+g(b)}function i(a,b,c){var d=h(e("[%s] [%s] %s - ",o.asString(a.startTime,c),a.level,a.categoryName),b);return d}function j(a,b){return i(a,void 0,b)+e(a.data)}function k(a,b){return i(a,t[a.level.toString()],b)+e(a.data)}function l(a){return e(a.data)}function m(a){return a.data[0]}function n(a,b,d){function h(a,b){var c=a.categoryName;if(b){var d=parseInt(b,10),e=c.split(".");d<e.length&&(c=e.slice(e.length-d).join("."))}return c}function i(a,b){var c=o.ISO8601_FORMAT;return b&&(c=b,"ISO8601"==c?c=o.ISO8601_FORMAT:"ISO8601_WITH_TZ_OFFSET"==c?c=o.ISO8601_WITH_TZ_OFFSET_FORMAT:"ABSOLUTE"==c?c=o.ABSOLUTETIME_FORMAT:"DATE"==c&&(c=o.DATETIME_FORMAT)),o.asString(c,a.startTime,d)}function j(){return p.hostname().toString()}function k(a){return e(a.data)}function l(){return q}function m(a){return a.level.toString()}function n(a){return o.asString("hh:mm:ss",a.startTime,d)}function r(a){return f(t[a.level.toString()])}function s(a){return g(t[a.level.toString()])}function u(){return"%"}function v(a){return a&&a.pid?a.pid:c.pid}function w(a,b){return a.cluster&&b?b.replace("%m",a.cluster.master).replace("%w",a.cluster.worker).replace("%i",a.cluster.workerId):a.cluster?a.cluster.worker+"@"+a.cluster.master:v()}function x(a,c){return"undefined"!=typeof b[c]?"function"==typeof b[c]?b[c](a):b[c]:null}function y(a,b,c){return E[a](b,c)}function z(a,b){var c;return a?(c=parseInt(a.substr(1),10),b.substring(0,c)):b}function A(a,b){var c;if(a)if("-"==a.charAt(0))for(c=parseInt(a.substr(1),10);b.length<c;)b+=" ";else for(c=parseInt(a,10);b.length<c;)b=" "+b;return b}function B(a,b,c){var d=a;return d=z(b,d),d=A(c,d)}var C="%r %p %c - %m%n",D=/%(-?[0-9]+)?(\.?[0-9]+)?([\[\]cdhmnprzxy%])(\{([^\}]+)\})?|([^%]+)/;a=a||C;var E={c:h,d:i,h:j,m:k,n:l,p:m,r:n,"[":r,"]":s,y:w,z:v,"%":u,x:x};return function(b){for(var c,d="",e=a;c=D.exec(e);){var f=(c[0],c[1]),g=c[2],h=c[3],i=c[5],j=c[6];if(j)d+=""+j;else{var k=y(h,b,i);d+=B(k,g,f)}e=e.substr(c.index+c[0].length)}return d}}var o=a("./date_format"),p=a("os"),q=p.EOL||"\n",r=a("util"),s={messagePassThrough:function(){return l},basic:function(){return j},colored:function(){return k},coloured:function(){return k},pattern:function(a){return n(a&&a.pattern,a&&a.tokens)},dummy:function(){return m}},t={ALL:"grey",TRACE:"blue",DEBUG:"cyan",INFO:"green",WARN:"yellow",ERROR:"red",FATAL:"magenta",OFF:"grey"},u={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};b.exports={basicLayout:j,messagePassThroughLayout:l,patternLayout:n,colouredLayout:k,coloredLayout:k,dummyLayout:m,addLayout:function(a,b){s[a]=b},layout:function(a,b){return s[a]&&s[a](b)}}}).call(this,a("_process"))},{"./date_format":9,_process:15,os:2,util:17}],11:[function(a,b,c){"use strict";function d(a,b){this.level=a,this.levelStr=b}function e(a,c){return a?"string"==typeof a?b.exports[a.toUpperCase()]||c:e(a.toString()):c}d.prototype.toString=function(){return this.levelStr},d.prototype.isLessThanOrEqualTo=function(a){return"string"==typeof a&&(a=e(a)),this.level<=a.level},d.prototype.isGreaterThanOrEqualTo=function(a){return"string"==typeof a&&(a=e(a)),this.level>=a.level},d.prototype.isEqualTo=function(a){return"string"==typeof a&&(a=e(a)),this.level===a.level},b.exports={ALL:new d(Number.MIN_VALUE,"ALL"),TRACE:new d(5e3,"TRACE"),DEBUG:new d(1e4,"DEBUG"),INFO:new d(2e4,"INFO"),WARN:new d(3e4,"WARN"),ERROR:new d(4e4,"ERROR"),FATAL:new d(5e4,"FATAL"),MARK:new d(9007199254740992,"MARK"),OFF:new d(Number.MAX_VALUE,"OFF"),toLevel:e}},{}],12:[function(a,b,c){(function(c){"use strict";function d(a){return K.hasOwnProperty(a)}function e(a){var b=i(a),c={};return c.temp=[],c.target=b,c.flush=function(){for(var a=0;a<c.temp.length;a++){var b=c.temp[a];c.target[b.level](b.message),delete c.temp[a]}},c.trace=function(a){c.temp.push({level:"trace",message:a})},c.debug=function(a){c.temp.push({level:"debug",message:a})},c.info=function(a){c.temp.push({level:"info",message:a})},c.warn=function(a){c.temp.push({level:"warn",message:a})},c.error=function(a){c.temp.push({level:"error",message:a})},c.fatal=function(a){c.temp.push({level:"fatal",message:a})},c}function f(a){return a+"."}function g(a,b){var c=f(a),d=f(b);return d.substring(0,c.length)==c}function h(a,b){var c=f(a),d=f(b);return d.substring(0,c.length)==c}function i(a){if("string"!=typeof a&&(a=H.DEFAULT_CATEGORY),!d(a)){var b;if(F.config)for(var c=Object.keys(F.config).sort(),e=0;e<c.length;e++){var f=c[e];g(f,a)&&(b=F.config[f])}K[a]=new H(a,b);var i;for(var j in J)h(j,a)&&(i=J[j],i.forEach(function(b){K[a].addListener("log",b)}));J[I]&&(i=J[I],i.forEach(function(b){K[a].addListener("log",b)}))}return K[a]}function j(){var a=Array.prototype.slice.call(arguments),b=a.shift();(0===a.length||void 0===a[0])&&(a=[I]),Array.isArray(a[0])&&(a=a[0]),a.forEach(function(a){if(l(b,a),a===I)k(b);else for(var c in K)h(a,c)&&K[c].addListener("log",b)})}function k(a){for(var b in K)d(b)&&K[b].addListener("log",a)}function l(a,b){J[b]||(J[b]=[]),J[b].push(a)}function m(){J={};for(var a in K)d(a)&&K[a].removeAllListeners("log")}function n(a,b){m(),a&&a.forEach(function(a){A(a.type);var c;a.makers=L;try{c=L[a.type](a,b),j(c,a.category)}catch(d){throw new Error("log4js configuration problem for "+D.inspect(a),d)}})}function o(a){if(F.config=a,a){var b=Object.keys(F.config).sort();for(var c in b){var d=b[c];d===I&&p(a[d]);for(var e in K)g(d,e)&&K[e].setLevel(a[d])}}}function p(a){H.prototype.level=F.toLevel(a,F.TRACE)}function q(){return i(H.DEFAULT_CATEGORY)}function r(a){return a?JSON.parse(C.readFileSync(a,"utf8")):void 0}function s(a,b){if(a)try{o(a.levels),n(a.appenders,b),a.replaceConsole?x():y()}catch(c){throw new Error("Problem reading log4js config "+D.inspect(a)+'. Error was "'+c.message+'" ('+c.stack+")")}}function t(a){var b=u(O.filename);b&&(O.lastMTime&&b.getTime()>O.lastMTime.getTime()&&s(r(O.filename),a),O.lastMTime=b)}function u(a){var b;try{b=C.statSync(O.filename).mtime}catch(c){i("log4js").warn("Failed to load configuration file "+a)}return b}function v(a,b){O.timerId&&(clearInterval(O.timerId),delete O.timerId),O.filename=a,O.lastMTime=u(a),O.timerId=setInterval(t,1e3*b.reloadSecs,b)}function w(a,b){var d=a;d=d||c.env.LOG4JS_CONFIG,b=b||{},void 0===d||null===d||"string"==typeof d?(b.reloadSecs&&v(d,b),d=r(d)||N):b.reloadSecs&&i("log4js").warn('Ignoring configuration reload parameter for "object" configuration.'),s(d,b)}function x(a){function b(b){return function(){b.apply(a,arguments)}}a=a||i("console"),["log","debug","info","warn","error"].forEach(function(c){console[c]=b("log"===c?a.info:a[c])})}function y(){["log","debug","info","warn","error"].forEach(function(a){console[a]=P[a]})}function z(b){var c;try{c=a("./appenders/"+b)}catch(d){c=a(b)}return c}function A(a,c){if(c=c||z(a),!c)throw new Error("Invalid log4js appender: "+D.inspect(a));b.exports.appenders[a]=c.appender.bind(c),c.shutdown&&(M[a]=c.shutdown.bind(c)),L[a]=c.configure.bind(c)}function B(a){G.disableAllLogWrites();var b,c=0,d=[],e=function(e){b=b||e,c++,c>=d.length&&a(b)};for(var f in M)M.hasOwnProperty(f)&&d.push(M[f]);return d.length?void d.forEach(function(a){a(e)}):a()}var C=(a("events"),a("fs")),D=(a("path"),a("util")),E=a("./layouts"),F=a("./levels"),G=a("./logger"),H=(G.LoggingEvent,G.Logger),I="[all]",J={},K={},L={},M={},N={appenders:[{type:"console"}],replaceConsole:!1};a("./appenders/console");var O={},P={log:console.log,debug:console.debug,info:console.info,warn:console.warn,error:console.error};b.exports={getBufferedLogger:e,getLogger:i,getDefaultLogger:q,hasLogger:d,addAppender:j,loadAppender:A,clearAppenders:m,configure:w,shutdown:B,replaceConsole:x,restoreConsole:y,levels:F,setGlobalLogLevel:p,layouts:E,appenders:{},appenderMakers:L,connectLogger:a("./connect-logger").connectLogger},w()}).call(this,a("_process"))},{"./appenders/console":7,"./connect-logger":8,"./layouts":10,"./levels":11,"./logger":13,_process:15,events:4,fs:3,path:14,util:17}],13:[function(a,b,c){"use strict";function d(a,b,c,d){this.startTime=new Date,this.categoryName=a,this.data=c,this.level=b,this.logger=d}function e(a,b){this.category=a||k,b&&this.setLevel(b)}function f(){l=!1}function g(){l=!0}var h=a("./levels"),i=a("util"),j=a("events"),k="[default]",l=!0;i.inherits(e,j.EventEmitter),e.DEFAULT_CATEGORY=k,e.prototype.level=h.TRACE,e.prototype.setLevel=function(a){this.level=h.toLevel(a,this.level||h.TRACE)},e.prototype.removeLevel=function(){delete this.level},e.prototype.log=function(){var a=h.toLevel(arguments[0],h.INFO);if(this.isLevelEnabled(a)){for(var b=arguments.length-1,c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+1];this._log(a,c)}},e.prototype.isLevelEnabled=function(a){return this.level.isLessThanOrEqualTo(a)},["Trace","Debug","Info","Warn","Error","Fatal","Mark"].forEach(function(a){var b=h.toLevel(a);e.prototype["is"+a+"Enabled"]=function(){return this.isLevelEnabled(b)},e.prototype[a.toLowerCase()]=function(){if(l&&this.isLevelEnabled(b)){for(var a=arguments.length,c=new Array(a),d=0;a>d;d++)c[d]=arguments[d];this._log(b,c)}}}),e.prototype._log=function(a,b){var c=new d(this.category,a,b,this);this.emit("log",c)},c.LoggingEvent=d,c.Logger=e,c.disableAllLogWrites=f,c.enableAllLogWrites=g},{"./levels":11,events:4,util:17}],14:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:15}],15:[function(a,b,c){function d(){if(!h){h=!0;for(var a,b=g.length;b;){a=g,g=[];for(var c=-1;++c<b;)a[c]();b=g.length}h=!1}}function e(){}var f=b.exports={},g=[],h=!1;f.nextTick=function(a){g.push(a),h||setTimeout(d,0)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=e,f.addListener=e,f.once=e,f.off=e,f.removeListener=e,f.removeAllListeners=e,f.emit=e,f.binding=function(a){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(a){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],16:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],17:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments);
}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":16,_process:15,inherits:6}],18:[function(a,b,c){"use strict";var d=a("./lib/client"),e=a("browser-request"),f=a("log4js");f.configure({appenders:[{type:"console",layout:{type:"pattern",pattern:"[ %d ] [ %c ] :: %m"}}]});var g=f.getLogger("cloudify.angular");window.CloudifyClient=function(a){return a.request||(a.request=e),new d(a)},g.trace("cloudifyjs is ready for use")},{"./lib/client":20,"browser-request":1,log4js:12}],19:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.blueprints");d.prototype.list=function(a,b){e.trace("listing blueprints");var c={};return a&&(c._include=a),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/blueprints",qs:c},b)},d.prototype.get=function(a,b,c){e.trace("getting blueprint by id");var d={};return b&&(d._include=b),this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/blueprints/{0}",a),qs:d},c)},d.prototype["delete"]=function(a,b){return e.trace("deleting blueprint"),this.config.request({method:"DELETE",json:!0,url:String.format(this.config.endpoint+"/blueprints/{0}",a)},b)},d.prototype.publish_archive=function(a,b,c,d){e.trace("getting blueprint by id");var f={blueprint_archive_url:a,application_file_name:c};return this.config.request({method:"PUT",url:String.format(this.config.endpoint+"/blueprints/{0}",b),qs:f},function(a,b,c){if("string"==typeof c){try{c=JSON.parse(c)}catch(e){}d(a,b,c)}})},d.prototype.download=function(a,b,c){throw e.trace("downloading blueprint"),new Error("this function is not implemented")},d.prototype.browse=function(a,b,c,d){throw e.trace("browse blueprint"),new Error("this function is not implemented")},d.prototype.browseFile=function(a,b,c,d){throw e.trace("browse blueprint"),new Error("this function is not implemented")},b.exports=d},{log4js:12}],20:[function(a,b,c){"use strict";function d(a){var b=a.request;a.request=function(c,d){return c.auth=a.cloudifyAuth,b(c,d)},this.config=a,this.blueprints=new e(a),this.events=new f(a),this.deployments=new g(a),this.plugins=new h(a),this.executions=new i(a),this.manager=new j(a),this.nodeInstances=new k(a),this.nodes=new l(a),this.search=new m(a),this.evaluate=new n(a),this.maintenance=new o(a),this.deploymentUpdates=new p(a),this.snapshots=new q(a),this.providerContext=new r(a)}var e=a("./blueprints"),f=a("./events"),g=a("./deployments"),h=a("./plugins"),i=a("./executions"),j=a("./manager"),k=a("./nodeInstances"),l=a("./nodes"),m=a("./search"),n=a("./evaluate"),o=a("./maintenance"),p=a("./deploymentUpdates"),q=a("./snapshots"),r=a("./providerContext");b.exports=d,String.format=function(){for(var a=arguments[0],b=1;b<arguments.length;b++){var c=new RegExp("\\{"+(b-1)+"\\}","gm");a=a.replace(c,arguments[b])}return a}},{"./blueprints":19,"./deploymentUpdates":21,"./deployments":22,"./evaluate":23,"./events":24,"./executions":25,"./maintenance":26,"./manager":27,"./nodeInstances":28,"./nodes":29,"./plugins":30,"./providerContext":31,"./search":32,"./snapshots":33}],21:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.deploymentUpdates"),f=f||a("form-data");d.prototype.list=function(a,b){return e.trace("listing deployment updates"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/deployment-updates",qs:a},b)},d.prototype.get=function(a,b){return e.trace("getting deployment update "+a),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/deployment-updates/"+a},b)},d.prototype.update=function(a,b,c,d,g,h){e.trace("updating deployment "+a);var i=!0,j={},k=new f;return"string"==typeof b?j.blueprint_archive_url=b:void 0!==b&&(k.append("blueprint_archive",b),i=!1),void 0!==c&&(k.append("inputs",c),i=!1),j.application_file_name=void 0!==d?d:void 0,"object"==typeof g&&(void 0!==g.workflowId?j.workflow_id=g.workflowId:(j.skip_install=g.skipInstall,j.skip_uninstall=g.skipUninstall)),this.config.request({method:"POST",json:i,url:this.config.endpoint+"/deployment-updates/"+a+"/update/initiate",qs:j,body:k},h)},b.exports=d},{"form-data":5,log4js:12}],22:[function(a,b,c){"use strict";function d(a){this.config=a}function e(a){this.config=a}function f(a){this.config=a,this.outputs=new d(a)}var g=a("log4js").getLogger("cloudify.deployments");d.prototype.get=function(a,b){return g.trace("getting deployment outputs"),a?this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}/outputs",a)},b):void b(new Error("deployment_id is missing"))},e.prototype.start=function(a,b,c){return g.trace("starting deployment modification"),a?this.config.request({method:"PATCH",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}/modify",a),body:{stage:"start",nodes:b}},c):void c(new Error("deployment_id is missing"))},e.prototype.finish=function(a,b,c){return g.trace("finishing deployment modification"),a?this.config.request({method:"PATCH",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}/modify",a),body:{stage:"finish",modification:b}},c):void c(new Error("deployment_id is missing"))},f.prototype.list=function(a,b){g.trace("listing deployments");var c={};return a&&(c._include=a),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/deployments",qs:c},b)},f.prototype.get=function(a,b,c){return g.trace("getting deployment"),a?this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}",a)},c):void c(new Error("blueprint_id is missing"))},f.prototype.create=function(a,b,c,d){if(g.trace("creating deployment"),!a)return void d(new Error("blueprint_id is missing"));if(!b)return void d(new Error("deployment_id is missing"));var e={blueprint_id:a};return c&&(e.inputs=c),this.config.request({method:"PUT",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}",b),body:e},d)},f.prototype["delete"]=function(a,b,c){if(g.trace("deleting deployment"),!a)return void c(new Error("deployment_id is missing"));var d={};return b===!0&&(d.ignore_live_nodes="true"),this.config.request({method:"DELETE",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}",a),qs:d},c)},f.prototype.get_workflows=function(a,b,c){return g.trace("getting workflows"),a?this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/deployments/{0}/workflows",a)},c):void c(new Error("blueprint_id is missing"))},b.exports=f},{log4js:12}],23:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.nodeInstances");d.prototype.functions=function(a,b,c,d){e.trace("evaluating"),this.config.request({method:"POST",url:this.config.endpoint+"/evaluate/functions",json:!0,body:{deployment_id:a,context:b,payload:c}},d)},b.exports=d},{log4js:12}],24:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.events");d.prototype.get=function(a,b){return e.trace("getting logs and events"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/events",qs:a},b)},b.exports=d},{log4js:12}],25:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.executions");d.prototype.list=function(a,b){return e.trace("listing executions"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/executions",qs:a},b)},d.prototype.get=function(a,b,c){if(e.trace("getting execution"),!a)return void c(new Error("execution_id is missing"));var d={};return b&&(d._include=b),this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/executions/{0}",a),qs:d},c)},d.prototype.update=function(a,b,c,d){if(e.trace("updating execution"),!a)return void d(new Error("execution_id is missing"));var f={status:b};return c||(f.error=c),this.config.request({method:"PATCH",url:String.format(this.config.endpoint+"/executions/{0}",a),json:!0,body:f},d)},d.prototype.start=function(a,b,c,d,f,g){if(e.trace("starting execution"),!a)return void g(new Error("deployment_id is missing"));if(!b)return void g(new Error("workflow_id is missing"));var h={deployment_id:a,workflow_id:b};return c&&(h.parameters=c),d===!0?h.allow_custom_parameters="true":h.allow_custom_parameters="false",f===!0?h.force="true":h.force="false",this.config.request({method:"POST",url:this.config.endpoint+"/executions",body:h,json:!0},g)},d.prototype.cancel=function(a,b,c){if(e.trace("cancelling execution"),!a)return void c(new Error("execution_id is missing"));var d={};return b===!0?d.action="force-cancel":d.action="cancel",this.config.request({method:"POST",url:String.format(this.config.endpoint+"/executions/{0}",a),json:!0,body:d},c)},b.exports=d},{log4js:12}],26:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.maintenance");d.prototype.get=function(a){return e.trace("getting maintenance details"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/maintenance"},a)},d.prototype.activate=function(a){return e.trace("activating maintenance mode"),this.config.request({method:"POST",json:!0,url:this.config.endpoint+"/maintenance/activate"},a)},d.prototype.deactivate=function(a){return e.trace("deactivating maintenance mode"),this.config.request({method:"POST",json:!0,url:this.config.endpoint+"/maintenance/deactivate"},a)},b.exports=d},{log4js:12}],27:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.manager");d.prototype.get_status=function(a){return e.trace("getting status"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/status"},a)},d.prototype.get_version=function(a){return e.trace("getting version"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/version"},a)},d.prototype.get_context=function(a,b){e.trace("getting context");var c={};return a&&(c._include=a),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/provider/context",qs:c},b)},d.prototype.create_context=function(a,b,c){if(e.trace("creating context"),!a)return void c(new Error("name is missing"));if(!b)return void c(new Error("context is missing"));var d={name:a,context:b};return this.config.request({method:"POST",json:!0,url:this.config.endpoint+"/provider/context",body:d},c)},b.exports=d},{log4js:12}],28:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.nodeInstances");d.prototype.get=function(a,b,c){if(e.trace("getting node instances"),!a)return void c(new Error("node_instance_id is missing"));var d={};return b&&(d._include=b),this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/node-instances/{0}",a),qs:d},c)},d.prototype.update=function(a,b,c,d,f){e.trace("updating node instance"),a||f(new Error("node_instance_id is missing")),isNaN(parseInt(d))&&(d=0);var g={version:d};return c&&(g.runtime_properties=c),b&&(g.state=b),this.config.request({method:"PATCH",url:String.format(this.config.endpoint+"/node-instances/{0}",a),json:!0,body:g},f)},d.prototype.list=function(a,b,c){e.trace("listing node instances");var d={};return a&&(d.deployment_id=a),b&&(d._include=b),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/node-instances",qs:d},c)},b.exports=d},{log4js:12}],29:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.nodeInstances");d.prototype.list=function(a,b,c,d){e.trace("listing nodes");var f={};return a&&(f.deployment_id=a),b&&(f.id=b),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/nodes",qs:f},d)},d.prototype.get=function(a,b,c,d){return e.trace("getting nodes"),a?b?void this.list(a,b,c,function(a,b,c){c&&c.length>0&&(c=c[0]),d(a,b,c)}):void d(new Error("node_id is missing")):void d(new Error("deployment_id is missing"))},b.exports=d},{log4js:12}],30:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.plugins");d.prototype.list=function(a){return e.trace("listing plugins"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/plugins"},a)},d.prototype.get=function(a,b){return e.trace("getting plugin by id"),this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/plugins/{0}",a)},b)},d.prototype["delete"]=function(a,b){return e.trace("deleting plugin"),this.config.request({method:"DELETE",json:!0,url:String.format(this.config.endpoint+"/plugins/{0}",a),body:{}},b)},d.prototype.download=function(a,b){return e.trace("downloading plugin"),this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/plugins/{0}/archive",a)},b)},d.prototype.upload=function(a,b){e.trace("uploading plugin");var c;return"string"==typeof a&&(c={plugin_archive_url:a}),this.config.request({method:"POST",json:!0,url:this.config.endpoint+"/plugins",body:!c&&a,qs:c},b)},b.exports=d},{log4js:12}],31:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.providerContext");d.prototype.get=function(a){return e.trace("getting provider context"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/provider/context"},a)},d.prototype.update=function(a,b,c){e.trace("updating provider context");var d={name:a,context:b};return this.config.request({method:"POST",json:!0,url:this.config.endpoint+"/provider/context?update=true",body:d},c)},b.exports=d},{log4js:12}],32:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.nodeInstances");d.prototype.run_query=function(a,b){return e.trace("running query"),this.config.request({method:"POST",json:!0,url:this.config.endpoint+"/search",body:a},b)},b.exports=d},{log4js:12}],33:[function(a,b,c){"use strict";function d(a){this.config=a}var e=a("log4js").getLogger("cloudify.snapshots");d.prototype.list=function(a){return e.trace("listing snapshots"),this.config.request({method:"GET",json:!0,url:this.config.endpoint+"/snapshots"},a)},d.prototype.create=function(a,b,c,d){e.trace("creating snapshot");var f={};return b&&(f.include_metrics=b),c&&(f.include_credentials=c),this.config.request({method:"PUT",json:!0,url:String.format(this.config.endpoint+"/snapshots/{0}",a),body:{},qs:f},d)},d.prototype["delete"]=function(a,b){return e.trace("deleting snapshot"),this.config.request({method:"DELETE",json:!0,url:String.format(this.config.endpoint+"/snapshots/{0}",a)},b)},d.prototype.restore=function(a,b,c,d){return e.trace("restoring snapshot"),this.config.request({method:"POST",json:!0,url:String.format(this.config.endpoint+"/snapshots/{0}/restore",a),body:{force:!!b,recreate_deployments_envs:!!c}},d)},d.prototype.download=function(a,b){return e.trace("downloading snapshot"),this.config.request({method:"GET",json:!0,url:String.format(this.config.endpoint+"/snapshots/{0}/archive",a)},b)},d.prototype.upload=function(a,b,c){e.trace("uploading snapshot");var d;return"string"==typeof b&&(d={snapshot_archive_url:b}),this.config.request({method:"PUT",json:!0,url:String.format(this.config.endpoint+"/snapshots/{0}/archive",a),body:!d&&b,qs:d},c)},b.exports=d},{log4js:12}]},{},[18]);